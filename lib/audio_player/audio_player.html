<style>
    .highlight {
        background: lightyellow;
    }

    .pointer {
       cursor: pointer;
    }

    #timeline {
        width: 40vw;
        height: 20px;
        background: gray;
        margin-top: 20px;
        border-radius: 15px;
    }

    @media screen and (max-width: 657px) {
        #timeline {
            width: 65vw;
        }
    }

    #playhead {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        margin-top: 1px;
        background: black;
    }

    .time {
        margin: 20px 20px 0px 20px;
    }

    .horizonal-layout {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: center;
        align-items: center;
    }
</style>

<h1 class="text-center">{{ title }}</h1>
<div class="container">
    <div [ngStyle]="{'height': playerHeight}" style="overflow: auto; border: 1px solid black;">
        <table class="table">
            <tr>
                <th>Song</th>
                <th>Artist</th>
            </tr>
            <tr *ngFor="#song of songList; #i = index" [class.highlight]="song.selected" class="pointer">
                <td (click)="playSelectedSong(i)">{{ i + 1 }}. {{ song.name }}</td><td>{{artist}}</td>
            </tr>
        </table>
    </div>

    <div class="text-center">{{ currentSongId + 1 }} - {{ currentSong.name }}</div>
    <div class="text-center">
        <button (click)="changeSong('prev')" class="btn btn-default btn-lg"><span class="glyphicon glyphicon-backward" aria-hidden="true"></span></button>

            <button (click)="play()" class="btn btn-default btn-lg">
                <div [hidden]="playPause"><span aria-hidden="true" class="glyphicon glyphicon-play"></span></div>
                <div [hidden]="!playPause"><span aria-hidden="true" class="glyphicon glyphicon-pause"></span></div>
            </button>


        <button (click)="stop()" class="btn btn-default btn-lg"><span class="glyphicon glyphicon-stop" aria-hidden="true"></span></button>
        <button (click)="changeSong('next')" class="btn btn-default btn-lg"><span class="glyphicon glyphicon-forward" aria-hidden="true"></span></button>

    </div>


    <div class="horizonal-layout" draggable="false">
        <div class="time" draggable="false">{{ currentMinute }}:{{ currentSecond | formatseconds }}</div>
        <div>
            <div id="timeline" #timeline (mousedown)="handleMouseDown($event)" (click)="movePlayHead($event)">
                <div id="playhead" #playhead [ngStyle]="{'margin-left': playHeadPosition}"></div>
            </div>
        </div>
        <div class="time" draggable="false">{{ minutes }}:{{ seconds | formatseconds }}</div>
    </div>
</div>
<audio #player (ended)="changeSong('next')" (timeupdate)="timeUpdate()" (canplaythrough)="setDuration()">
    <source [src]="currentSongPath" type="audio/ogg">
    <source [src]="currentSongPath" type="audio/mpeg">
</audio>

